./lexan -i ./data/texts/GreatExpectations_a.txt -l 50 -m 50 -t 5 -e ./data/exclusionLists/ExclusionList1_a.txt -o output.txt

exec*()
mkfifo()
pipe()
open()
close()
read()
write()
wait()
waitpid()
poll()
select()
dup()
dup2()
kill()
exit()

ExclusionList το αρχείο με τις λέξεις που ΔΕΝ θα πρέπει να περάσουν για επεξεργασία στους builders,

OutputFile το αρχείο που ο root θα τυπώσει όλες τις λέξεις που βρέθηκαν στην διάρκεια της ανάλυσης
μαζί με τους σχετικούς counters.

μία τέτοια ιεραρχία της οποίας
οι κόμβοι συνολικά διαβάζουν κομμάτια αρχείου κειμένου τυχαίου μεγέθους, επιτελούν λεξικογραφική ανάλυση,
και από κοινού παράγουν τις top-k μη–συνήθεις λέξεις που βρίσκουν στο εν λόγω αρχείο κειμένου.

Ο root κόμβος παρέχει στους splitters
το εύρος γραμμών μέσα σε ένα αρχείο που οι τελευταίοι θα πρέπει να διαβάσουν και να δημιουργήσουν απλές
ακολουθίες από λέξεις (χωρίς σύμβολα, παρενθέσεις, σημεία στίξης, κλπ.).

Οι builders απλά δημιουργούν
λίστες λέξεων που έχουν βρεθεί με αντίστοιχους μετρητές συχνότητας.

οι builders στέλνουν τα επιμέρους αποτελέσματα τους στον root ο οποίος τα συνθέτει και παράγει τις top-k πιο
συχνές λέξεις, τυπώνει στατιστικά εκτέλεσης των διεργασιών στην ιεραρχία και τερματίζει.

Ο κάθε splitter παίρνει σαν είσοδο το 1/l των γραμμών του αρχείου κειμένου. Η
δουλειά της splitter είναι η παραγωγή λέξεων που υπάρχουν στο κομμάτι του κειμένου της, πλην εκείνων
των λέξεων που δίνονται στο exclusion list. Οι παραγόμενες λέξεις δεν θα πρέπει να έχουν σημεία στίξης,
σύμβολα, ή ψηφία (νούμερα).

΄Οταν ένας splitter ολοκληρώσει την εργασία του στέλνει ένα USR1 σήμα ειδοποιώντας έτσι την ρίζα ότι
έχει ολοκληρωθεί η εργασία της και μπορεί να τερματίσει.

Ο κάθε builder ολοκληρώνει την εργασία του αφού στείλει όλα τα αποτελέσματά του στην ρίζα (με την
βοήθεια μιας pipe ή named-pipe). Επιπλέον ο κάθε builder πρέπει να αναφέρει στον root το χρόνο που
χρειάστηκε για να ολοκληρώσει την εκτέλεσή του.

Κάθε builder που ολοκληρώνει την εργασία του στέλνει ένα σήμα USR2 στην ρίζα και μπορεί να τερματίσει.

Η ρίζα δημιουργεί μια λίστα από τις top-k λέξεις που έχουν παραχθεί με σειρά φθίνουσας συχνότητας. Η
εν λόγω λίστα μπορεί να αποθηκευτεί και σε ένα αρχείο επιλογής σας (μπορεί να ορίζεται στην γραμμή
κλήσης). Η ρίζα τέλος τυπώνει τον αριθμό των USR1 και USR2 σημάτων που έχει λάβει όπως επίσης και
τους χρόνους εκτέλεσης της root καθώς και των builder διεργασιών της ιεραρχίας και τερματίζει.

Ο κόμβος ρίζας επίσης δημιουργεί n κόμβους τύπου builder. Το n είναι παράμετρος που παρέχεται από την
γραμμή εντολής του βασικού προγράμματος. ΄Ολες οι λέξεις που έρχονται σε ένα builder αποθηκεύονται
σε μια δυναμική δομή (λίστα, πίνακας–κατακερματισμού, δένδρο, κλπ) μαζί με ένα μετρητή που δείχνει
πόσες φορές έχει εμφανιστεί μέχρι στιγμής η εν λόγω λέξη στο κείμενο.

Το
lexan ολοκληρώνει την εκτέλεση του τυπώνοντας στο tty τα εξής:
1. τις ταξινομημένες top-k λέξεις μαζί με την συχνότητά τους,
2. το χρόνο που χρειάστηκε για να ολοκληρώσει ο κάθε κόμβος–φύλλο την εργασία του,
3. τον αριθμό των σημάτων USR1 και USR2 που έχουν παραληφθεί από την ρίζα.

΄Ολες οι διαδικασίες του Σχήματος 1 θα πρέπει ιδεατά να τρέχουν ταυτόχρονα και να προοδεύουν ασύγχρονα.

Κάθε παραγόμενη λέξη αφού περάσει από μια συνάρτηση κατακερματισμού f() οδεύει σε ένα από του n
builder κόμβους. Ο ρόλος της συνάρτησης f() είναι να ‘κατευθύνει’ την ίδια λέξη ανεξάρτητα από το
που παράγεται (splitter) σε ένα και μόνο συγκεκριμένο builder (από τους n που είναι διαθέσιμοι). Για
αυτό το σκοπό ο κάθε splitter θα πρέπει να ανοίξει διόδους επικοινωνίας (pipes ή named pipes) με όλους
τους builders. Οι λέξεις που δεν προωθούνται από splitters σε builders είναι εκείνες που βρίσκονται στο
exclusion list. Η εν λόγω λίστα ορίζεται στην γραμμή κλήσης του προγράμματος.